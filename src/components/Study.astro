---
import ComingSoonBanner from './ComingSoonBanner.astro';
export interface Props {
  title: string;
  description: string;
  image: string;
  roles: string[];
  year: string;
  slug: string;
  isComingSoon?: boolean;
  link?: {
    href: string;
    target?: '_blank' | '_self';
  };
  classes?: string;
}

const { 
  link, 
  title, 
  description, 
  image, 
  roles = [], 
  slug,
  year = '2023',
  isComingSoon = false,
  classes = '' 
} = Astro.props;
---

<a
  href={`/study/${slug}`}
  class={`
    group overflow-hidden relative gap-x-6 gap-y-1 col-span-full grid h-fit  grid-cols-12 mt-auto
    ${classes} 
  `}
>
  {isComingSoon && <ComingSoonBanner/>}
  <div class="col-span-full lg:col-span-2 flex lg:flex-col justify-between">
    <p class="group-hover:bg-white group-hover:text-black w-fit">
      <span class="group-hover:opacity-0">[</span>
      {title}
      <span class="group-hover:opacity-0">]</span>
    </p>
    <p>{roles.join(', ')}</p>
  </div>
  <picture class={`relative h-auto col-span-full lg:col-span-8 lg:col-start-3`}>
    <img
      src={image}
      alt={`Preview mockup of ${title}`}
      class='w-full h-full object-top select-none object-cover'
    />
  </picture>
  <div class="text-right col-span-full lg:col-span-2 flex lg:flex-col justify-between items-end">
    <p>{description}</p>
    <p>{year}</p>
  </div>
</a>

