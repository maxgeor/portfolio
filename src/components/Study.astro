---
import RightArrowIcon from './icons/RightArrowIcon.astro';
import ChevronRightIcon from './icons/ChevronRightIcon.astro';
import UpRightArrowIcon from './icons/UpRightArrowIcon.astro';

export interface Props {
  title: string;
  description: string;
  image: string;
  roles: string[];
  year: string;
  link: {
    href: string;
    target?: '_blank' | '_self';
  };
  isComingSoon?: boolean;
  classes?: string;
}

const { 
  link, 
  title, 
  description, 
  image, 
  roles = [], 
  year = '2023',
  isComingSoon = false,
  classes = '' 
} = Astro.props;
---

<!-- <a
  href={isComingSoon ? '#' : link.href}
  target={link.target || '_self'}
  class={`
    group relative gap-x-4 grid grid-cols-1 md:grid-cols-4 gap-4 h-fit break-inside-avoid-column col-span-full md:col-span-2
    ${isComingSoon && 'cursor-default'}
    ${classes} 
  `}
> -->
<a
  href={isComingSoon ? '#' : link.href}
  target={link.target || '_self'}
  class={`
    group relative gap-x-4 grid grid-cols-1 md:grid-cols-4 gap-4 h-fit break-inside-avoid-column col-span-full md:col-span-2
    ${isComingSoon && 'cursor-default'}
    ${classes} 
  `}
>
  <div class="relative col-span-full grid grid-cols-2 gap-y-3 gap-x-4 h-full leading-4 ">
    <div class="flex justify-between items-start gap-4">
      <div class="flex flex-col gap-y-4">
        <h2 class="-ml-0.5 md:-ml-[4px] text-[29px] leading-[24px] sm:text-[42px] xl:text-[60px] xl:leading-[48px] sm:leading-[32px] font-medium tracking-[-0.04em]">{title}</h2>
        <p class="-ml-px">{description}</p>
      </div>
      <!-- <div class="hidden sm:flex gap-1 items-center ">
        Live site
        <UpRightArrowIcon classes='mt-px' />
      </div> -->
    </div>
    <p class="sm:hidden ">{roles.join(', ')}</p>
    <div class="hidden sm:flex justify-between items-start gap-4">
      <div class="flex flex-col self-end">
        {roles.map(role => (
          <p class="capitalize">{role}</p>
        ))}
      </div>
      <!-- <div class="flex items-center gap-1">
        Case study
        <RightArrowIcon classes='mt-px' />
      </div> -->
    </div>

     <div class="flex  gap-1 justify-between items-center border-y">
      Live site
      <UpRightArrowIcon classes='mt-px' />
    </div>

    <div class="flex  justify-between items-center gap-1 border-y">
      Case study
      <RightArrowIcon classes='mt-px' />
    </div>
   

    <!-- <div class="flex sm:hidden flex-col col-span-full">
      <div class="flex gap-1 items-center border-t">
        Live site
        <UpRightArrowIcon classes='mt-px' />
      </div>
      <div class="flex items-center gap-1 border-y">
        Case study
        <RightArrowIcon classes='mt-px' />
      </div>
    </div> -->
    
    <!-- <div class="self-end">
      {isComingSoon ? (
        <p class="flex text-neutral-400 transition ease-in-out group-hover:rotate-1">
          Coming soonâ€¦
        </p>
      ) : (
        <div class="flex flex-col">
          <div class="flex items-center -mr-1 text-neutral-400">
            Read case study
            <ChevronRightIcon />
          </div>
        </div>
      )}
    </div>   -->
  </div>
  <picture class={`
    relative h-auto col-span-full 
    ${!isComingSoon ? 'group-hover:brightness-[95%] transition ease-in-out' : ''}
  `}>
    <img
      src={image}
      alt={`Preview mockup of ${title}`}
      class='aspect-[7/4] w-full h-full object-top select-none object-cover'
    />
  </picture>
</a>

