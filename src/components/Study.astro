---
import ComingSoonBanner from './ComingSoonBanner.astro';
export interface Props {
  title: string;
  description: string;
  image: string;
  roles: {
    long: string[],
    short: string[]
  };
  year: string;
  slug: string;
  isComingSoon?: boolean;
  link?: {
    href: string;
    target?: '_blank' | '_self';
  };
  classes?: string;
}

const { 
  link, 
  title, 
  description, 
  image,
  roles, 
  slug,
  year = '2023',
  isComingSoon = false,
  classes = '' 
} = Astro.props;
---

<a
  href={`/study/${slug}`}
  class={`
    group overflow-hidden relative gap-x-6 gap-y-1 col-span-full grid h-fit grid-cols-6 xl:grid-cols-8 -my-1
    ${classes} 
  `}
>
  {isComingSoon && <ComingSoonBanner/>}
  <div class="col-span-full xl:col-span-1 flex xl:flex-col justify-between">
    <h3 class="group-hover:bg-white group-hover:text-black w-fit">[{title}]</h3>
    <p class="xl:hidden">{description}</p>
    <p class="hidden xl:inline-block">{roles.short.join(', ')}</p>
  </div>
  <picture class={`relative h-auto col-span-full xl:col-span-6 xl:col-start-2`}>
    <img
      src={image}
      alt={`Preview mockup of ${title}`}
      class='w-full h-full object-top select-none object-cover'
    />
  </picture>
  <div class="text-right col-span-full xl:col-span-1 flex xl:flex-col justify-between items-end">
    <p class="xl:hidden">{roles.short.join(', ')}</p>
    <p class="hidden xl:inline-block">{description}</p>
    <p>{year}</p>
  </div>
</a>

