---
import type { ResponsiveNumber, ResponsiveBool } from '../../utils/class-generator'
import { getCenteredColClasses } from '../../utils/class-generator'
import Image from "./Image.astro";
import Video from "./Video.astro";
import Caption from './Caption.astro';
import clsx from 'clsx';

export interface Props {
  media: {
    type: "image" | "video";
    id: string;
    src: string;
    alt: string;
    hasBorder?: boolean;
    fit: 'cover' | 'contain';
    classes?: string;
  }[];
  span: ResponsiveNumber;
  description?: string;
  orientation?: 'horizontal' | 'vertical' | '3/2';
  isPadded: ResponsiveBool;
  classes?: string;
}

const { 
  media, 
  description, 
  span = 12,
  orientation = 'horizontal', 
  isPadded = true,
  classes = "" 
} = Astro.props;

const {spanClasses, startClasses, endClasses} = getCenteredColClasses(span)

let aspectRatio;

switch(orientation) {
  case 'horizontal':
    aspectRatio = 'aspect-[7/4]';
    break;
  case 'vertical':
    aspectRatio = 'aspect-[3/4]';
    break;
  case '3/2':
    aspectRatio = 'aspect-[3/2]';
    break;
  default:
    aspectRatio = 'aspect-[7/4]';
}
---