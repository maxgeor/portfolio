---
import ScrollingBanner from './ScrollingBanner.astro';
import RightArrowIcon from './icons/RightArrowIcon.astro';
import { filters } from '../lib/filters.ts';
import { formatDate } from '../utils/formatting';

export interface Props {
  title: string;
  href: string;
  date: string;
}
const { title, href, date } = Astro.props;

const formattedDate = formatDate(date);
---
<a
  href={href}
  class="group col-span-full xs:col-span-4 lg:col-span-2 hover:bg-transparent"
>
  <div class="flex items-start justify-between gap-[5px] ">
    <div>
      <h2 class="uppercase shrink-0 whitespace-nowrap">{title}</h2>
      <p>{formattedDate}</p>
    </div>
    <div class="flex items-center gap-[4px] ">
      <span 
        class="shrink-0 border border-white rounded-full h-[7px] w-[7px]"
        style={{ backgroundColor: filters["writing"] }}
      ></span>
      <RightArrowIcon classes="group-hover:translate-x-px -mr-[2px]" />
    </div>
  </div>
  <div class="relative aspect-[3/2] opacity-0 group-hover:opacity-100 group-focus:opacity-100 overflow-hidden">
    <!-- <div class="absolute top-1/2 -translate-y-1/2 left-1/2 -translate-x-1/2 z-10 -rotate-[12deg]">
      {Array.from({ length: 50 }, (index: number) => (
        <ScrollingBanner 
          title='Read' 
          classes="!static !translate-x-0 !translate-y-0" 
        />
      ))}
    </div> -->
  </div>
</a>