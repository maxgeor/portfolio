---
import ScrollingBanner from './ScrollingBanner.astro';
import RightArrowIcon from './icons/RightArrowIcon.astro';
import { filters } from '../lib/filters.ts';
import { formatDate } from '../utils/formatting';

export interface Props {
  title: string;
  href: string;
  date: string;
  preview: string;
}
const { title, href, date, preview } = Astro.props;

const formattedDate = formatDate(date);
---
<a
  href={href}
  class="group col-span-full xs:col-span-4 lg:col-span-2 hover:bg-transparent"
>
  <div class="flex items-start justify-between gap-[5px] ">
    <div>
      <h2 class="uppercase shrink-0 whitespace-nowrap">{title}</h2>
      <p>{formattedDate}</p>
    </div>
    <div class="flex items-center gap-[4px] ">
      <span 
        class="shrink-0 border border-white group-hover:border-neutral-200 rounded-full h-[7px] w-[7px]"
        style={{ backgroundColor: filters["writing"] }}
      ></span>
      <RightArrowIcon classes=" -mr-[2px]" />
    </div>
  </div>
  <div class="opacity-0 group-hover:opacity-100 group-focus:opacity-100 transition-opacity relative h-[210px] overflow-hidden text-gray-400">
    {preview}
    <div class="absolute inset-0 top-auto h-[90px] bg-gradient-to-t from-white"></div>
  </div>
</a>