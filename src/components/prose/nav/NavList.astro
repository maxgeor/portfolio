---
import NavItem from "./NavItem.astro";

export interface Props {
  sections: {
    title: string;
    subsections?: {
      title: string;
    }[];
  }[];
  shouldCollapse?: boolean;
  isSubsection?: boolean;
}

const { sections, shouldCollapse, isSubsection = false } = Astro.props;
---

<ol
  class={`
  nav-list lg:flex-col gap-x-6 transition transform
  ${isSubsection ? "pl-4 whitespace-normal mt-1.5 mb-0.5" : "gap-y-2 whitespace-nowrap"}
  ${shouldCollapse ? 'flex flex-col justify-center h-screen' : null}
  ${shouldCollapse ? isSubsection ? "hidden" : "flex" : "flex"}
`}
>
  {
    sections.map((section) => (
      <NavItem
        title={section.title}
        subsections={section.subsections}
        isSubitem={isSubsection}
      />
    ))
  }
</ol>
