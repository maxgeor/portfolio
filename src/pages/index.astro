---
import Layout from "../layouts/Layout.astro";
import Header from "../components/Header.astro";
import Work from "../components/work/Work.astro";
import Writing from "../components/Writing.astro";

import { getCollection } from 'astro:content';

const works = await getCollection('work');
const writings = await getCollection('writing');
---

<Layout title="Max Georgopoulos">
  <div class="relative mx-auto  grid grid-cols-4 gap-6 px-4 sm:px-6">
    <Header />
    <Work
      title="Formie"
      link={{ href: "/work/formie" }}
      image="/work/formie/cover.png"
      description="Universal UI for smart contracts."
      roles={['Product', 'Brand', 'Dev']}
      year={2022}
      featured={true}
    />
    <Work
      title="Memiori"
      link={{ href: "#" }}
      image="/work/memiori/cover-2.png"
      description="Refresh of mood journaling app."
      roles={['Product', 'Brand']}
      year={2023}
      featured={true}
      isComingSoon={true}
    />
    <h2 class="col-span-full border-t border-[#DADADA] dark:border-neutral-700 -mb-1">
      Work
    </h2>
    <div class="col-span-full columns-1 md:columns-2 gap-6 space-y-5 lg:space-y-6">
      <Work
        title='KG Handcrafted'
        link={{ href: "/work/wavy", target: "_blank" }}
        description='Brand + site for knifemaker'
        image="/work/kg.png"
      />
      <Work
        title="Dissect Design"
        link={{ 
          href: "https://dissect-design-sigma.vercel.app/", 
          target: "_blank" 
        }}
        image="/work/dissect-design.png"
        description="Collection of design decisions"
      />
      <Work
        title="Scope Todo"
        link={{ 
          href: "https://www.figma.com/community/widget/1036372982291551669", 
          target: "_blank" 
        }}
        image="/work/scope-todo.png"
        description="Todo widget for Figma"
      />
      <Work
        title="The Quest Board"
        link={{ 
          href: "https://www.lootquestboard.com/", 
          target: "_blank" 
        }}
        image="/work/the-quest-board.gif"
        description="Job board for Loot community"
      />
      <Work
        title="Sayings, Forgotten"
        link={{ 
          href: "https://sayings-forgotten.maxgeor.repl.co/", 
          target: "_blank" 
        }}
        image="/work/sayings-forgotten.gif"
        description="Collection of misremembered sayings"
      />
    </div>
    <h2 class="col-span-full border-t border-[#DADADA] dark:border-neutral-700 -mb-2">
      Writing
    </h2>
    <div id="writings" class="col-span-full grid grid-cols-2 md:grid-cols-4 gap-x-6">
      {writings?.map(writing => (
        <Writing
          title={writing.data.title}
          href={`/writing/${writing.slug}`}
          date={writing.data.date}
        />
      ))}
    </div>
    </div>
  </div>
</Layout>
