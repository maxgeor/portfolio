---
import Layout from "./Layout.astro";
import DetailsTable from "../components/work/DetailsTable.astro";
const { frontmatter } = Astro.props;
const {
  title,
  roles,
  year,
  link,
  image,
  tools,
  description,
  collaborators,
} = frontmatter;
---
<Layout title={title}>
  <main class="grid sm:grid-cols-12 gap-12 mx-6 sm:mx-12 pb-24">
    <header class="col-span-full flex justify-between pt-6 sm:pt-12">
      <a href="/" class="hover:underline -my-1">Max Georgopoulos</a>
      {link ? (
        <a href={link} target="_blank" class="hidden lg:flex items-center gap-[3px] underline -my-1 -mr-[3px]">
            <span>See it</span>
            <svg class="mt-0.5" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M3.64645 11.3536C3.45118 11.1583 3.45118 10.8417 3.64645 10.6465L10.2929 4L6 4C5.72386 4 5.5 3.77614 5.5 3.5C5.5 3.22386 5.72386 3 6 3L11.5 3C11.6326 3 11.7598 3.05268 11.8536 3.14645C11.9473 3.24022 12 3.36739 12 3.5L12 9.00001C12 9.27615 11.7761 9.50001 11.5 9.50001C11.2239 9.50001 11 9.27615 11 9.00001V4.70711L4.35355 11.3536C4.15829 11.5488 3.84171 11.5488 3.64645 11.3536Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd"></path></svg>
          </a>
      ) : null}
    </header>
    <div class="relative col-span-full grid grid-cols-1 lg:grid-cols-12 gap-y-6 gap-x-12 pb-2 xl:pb-12 xl:border-b border-gray-200">
      <div class="col-span-full lg:col-span-2 flex justify-between">
        <h1 class="-my-1">{title}</h1>
        {link ? (
          <a href={link} target="_blank" class="flex items-center lg:hidden gap-[3px] underline -my-1 -mr-[3px]">
            <span>See it</span>
            <svg class="mt-0.5" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M3.64645 11.3536C3.45118 11.1583 3.45118 10.8417 3.64645 10.6465L10.2929 4L6 4C5.72386 4 5.5 3.77614 5.5 3.5C5.5 3.22386 5.72386 3 6 3L11.5 3C11.6326 3 11.7598 3.05268 11.8536 3.14645C11.9473 3.24022 12 3.36739 12 3.5L12 9.00001C12 9.27615 11.7761 9.50001 11.5 9.50001C11.2239 9.50001 11 9.27615 11 9.00001V4.70711L4.35355 11.3536C4.15829 11.5488 3.84171 11.5488 3.64645 11.3536Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd"></path></svg>
          </a>
        ) : null}
      </div>
      <p class={`col-span-full lg:col-span-4 -my-1`}>{description}</p>
      <div class="flex flex-col -my-1 col-span-full lg:col-span-4">
        <DetailsTable
          roles={roles}
          tools={tools}
          collaborators={collaborators}
        />
      </div>
      <div class="lg:col-span-2 w-full flex lg:justify-end -my-1">{year}</div>
    </div>
    <article id="content" class="col-span-full">
      <div class={`
        prose-sm max-w-none
        prose-headings:text-sm prose-headings:leading-6 prose-headings:-my-1.5
        prose-h1:font-normal lg:prose-h1:font-normal prose-h1:mt-0 lg:prose-h1:-mt-1.5
        prose-h2:font-semibold prose-h2:-mb-[18px] prose-h2:-mt-0.5 first:prose-h2:-mt-1.5
        prose-p:-my-1.5 prose-p:max-w-prose
        prose-a:underline
        prose-code:bg-gray-100 prose-code:rounded prose-code:px-1 prose-code:border prose-code:border-gray-300/30 prose-code:py-[2px] prose-code:text-[12px] prose-code:tracking-tight prose-code:leading-6 prose-code:font-mono prose-code:font-normal prose-code:whitespace-nowrap
        prose-ul:list-disc prose-ul:-my-1.5 prose-ul:pl-6 lg:prose-ul:pl-4 prose-ul:max-w-prose
        prose-ol:list-decimal prose-ol:-my-1.5 prose-ol:pl-6 lg:prose-ol:pl-4 prose-ol:max-w-prose prose-ol:
        first:prose-li:mt-0 last:prose-li:mb-0
        prose-img:h-min prose-img:m-0
        grid grid-cols-1 lg:grid-cols-12 gap-12 text-black
      `}>
        <slot />
      </div>
    </article>
  </main>
</Layout>

<style is:inline>
  #content > div > ul > li::marker {
    width: 16px;
    height: 16px;
    border-radius: 100%;
    background-color: #000;
  }
  
  ol li::marker {
    font-family: sans-serif;
  }

  mark {
    padding: 4px;
    margin: 0 -4px;
    background-color: yellow;
  }
</style>