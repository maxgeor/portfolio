---
const {frontmatter} = Astro.props;
import DropLetter from '../components/DropLetter.astro';

---
<div class="relative flex flex-col max-w-8xl mx-auto">
  <header class="flex items-center justify-between sticky top-0 mx-6 md:mx-9 py-3 md:py-4 z-50">
    <a href="/" class="hover:underline whitespace-nowrap -ml-0.5">
      ‚Üê Go back
    </a>
    <a href="/" class="hover:underline whitespace-nowrap">Max Georgopoulos</a>
  </header>
  
  <div class="grid lg:grid-cols-4 gap-6 lg:gap-24 m-6 md:m-9 mt-6 md:mt-9">
    <section class="col-span-3 text-neutral-400 text-4xl leading-[48px] md:text-5xl md:leading-[64px] xl:text-6xl xl:leading-[80px] max-w-5xl">
      <p class="tracking-tightish ">
        <a href="#" class="text-neutral-800 underline"><DropLetter letter={frontmatter.title.slice(0, 1)} classes="float-left font-floral text-[139px] md:text-[190px] xl:text-[240px] pt-[38px] md:pt-[51px] xl:pt-[64px] pr-2.5 -ml-0.5 md:-ml-1"/> {frontmatter.title.substring(1)}</a>
        is a {frontmatter.type} I designed & co-built to <span class="text-neutral-800 lowercase">{frontmatter.tldr}</span>
      </p>
		</section>
    <div class="col-span-1 grid grid-cols-4 lg:grid-cols-1 gap-y-6 gap-x-6 text-xs leading-4 font-sans uppercase h-fit">
      <p>{frontmatter.type}</p>
      <div class="flex flex-col gap-y-1">
        <p class=" ">Role</p>
        <p>{frontmatter.roles.join(", ")}</p>
      </div>
      {frontmatter.company && (
        <div class="flex flex-col gap-y-1">
          <p class="">For</p>
          <p>{frontmatter.company}</p>
        </div>
      )}
      <div class="flex flex-col gap-y-1">
        <p class=" ">With</p>
        <table cellspacing="0" cellpadding="0">
          {frontmatter.collaborators.map((collaborator: { name: string, link: string }) => (
            <tr class="collaborator">
              <td class="leading-4">
                <a href={collaborator.link} target="_blank" class="whitespace-nowrap underline-none hover:underline focus:underline">
                  {collaborator.name}
                </a>  
                ({collaborator.role})
              </td>
            </tr>  
          ))}
        </table>
      </div>
      <div class="flex flex-col gap-y-1">
        <p>Using</p>
        <p>{frontmatter.tools.join(", ")}</p>
      </div>
    </div>
    
      <!-- <table class="" cellspacing="0" cellpadding="0">
        <tr>
          <td class="">Role</td>
          <td>
            {frontmatter.roles.join(", ")}
          </td>
        </tr>
        {frontmatter.company && (
          <tr>
            <td class="">For</td>
            <td class="">{frontmatter.company}</td>
          </tr>
        )}
        {frontmatter.collaborators && (
          <tr>
            <td class="">With</td>
            <td class="flex flex-col gap-y-2 525:gap-0 ">
              <table class="w-fit" cellspacing="0" cellpadding="0">
                {frontmatter.collaborators.map((collaborator: { name: string, link: string }) => (
                  <tr class="collaborator ">
                    <td>
                      <a href={collaborator.link} target="_blank" class="whitespace-nowrap underline-none hover:underline focus:underline">
                        {collaborator.name}
                      </a>  
                    </td>
                    <td>
                      <span class="525:whitespace-nowrap">({collaborator.role})</span>
                    </td>
                  </tr>  
                ))}
              </table>
            </td>
          </tr>
        )}
        <tr>
          <td class="">Using</td>
          <td>{frontmatter.tools.join(", ")}</td>
        </tr>
      </table> -->
  </div>
    <!-- <div class=" border-t-[0.5px] border-black pt-4 relative flex flex-col gap-y-6 md:gap-y-9 pb-6 md:pb-9">
      <div class="flex flex-col md:flex-row gap-y-2 gap-x-12 justify-between mt-3 md:mt-6">
        <h1 class=" text-5xl lg:text-6xl 2xl:text-7xl leading-10 lg:leading-[48px] 2xl:leading-[56px] ">
          {frontmatter.title}
        </h1>
        {frontmatter.link && (
          <a href={frontmatter.link} target="_blank" class="group flex items-end gap-x-1">
            <span class="group-hover:underline">Check it out</span>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4 group-hover:translate-x-px -translate-y-px group-hover:-translate-y-0.5  ease-out duration-100">
              <path fill-rule="evenodd" d="M5.22 14.78a.75.75 0 001.06 0l7.22-7.22v5.69a.75.75 0 001.5 0v-7.5a.75.75 0 00-.75-.75h-7.5a.75.75 0 000 1.5h5.69l-7.22 7.22a.75.75 0 000 1.06z" clip-rule="evenodd" />
            </svg>
          </a>
        )}
      </div>
      <span class="absolute top-0 right-0 text-[10px] uppercase tracking-wide font-sans ">
        {frontmatter.type}
      </span>
      <div class="grid grid-cols-1 md:grid-cols-12 gap-6 md:gap-9">
        <div class="col-span-6 md:w-fit md:order-first">
          <table class="" cellspacing="0" cellpadding="0">
            <tr>
              <td class="">Did</td>
              <td>
                {frontmatter.roles.join(", ")}
              </td>
            </tr>
            {frontmatter.company && (
              <tr>
                <td class="">For</td>
                <td class="">{frontmatter.company}</td>
              </tr>
            )}
            {frontmatter.collaborators && (
              <tr>
                <td class="">With</td>
                <td class="flex flex-col gap-y-2 525:gap-0 ">
                  <table class="w-fit" cellspacing="0" cellpadding="0">
                    {frontmatter.collaborators.map((collaborator: { name: string, link: string }) => (
                      <tr class="collaborator ">
                        <td>
                          <a href={collaborator.link} target="_blank" class="whitespace-nowrap underline-none hover:underline focus:underline">
                            {collaborator.name}
                          </a>  
                        </td>
                        <td>
                          <span class="525:whitespace-nowrap">({collaborator.role})</span>
                        </td>
                      </tr>  
                    ))}
                  </table>
                </td>
              </tr>
            )}
            <tr>
              <td class="">Using</td>
              <td>{frontmatter.tools.join(", ")}</td>
            </tr>
          </table>
        </div>
        <div class="col-span-6 md:w-fit md:order-first">
          <table cellspacing="0" cellpadding="0">
            <tr>
              <td class="">To</td>
              <td>
                {frontmatter.tldr}
              </td>
            </tr>
          </table>
        </div>
      </div>
    </div> -->
  {frontmatter.image ? (
    <img 
      src={frontmatter.image} 
      alt={`${frontmatter.title} mockups`}
      class=" min-h-0 max-h-[256px] md:max-h-[448px] h-full object-cover pt-9"
    />
  ) : (
    <div class="flex h-64 md:h-[448px] ">
      <div class="w-full bg-[#918C88] h-full"></div>
    </div>
  )}
  <article class="normal-case text-lg w-full">
    <slot />
  </article>
</div>

<style is:inline>
  tr > td:last-child {
    width: 100%;
  }

  article > p:has(img) {
    margin: 3rem auto;
    margin-left: auto;
    border: 0.5px rgba(0,0,0, 0.11) solid;
    width: 100%;
    height: auto;
  }

  article > section {
    margin-left: 0;
    margin-right: auto;
  }
  /* article > * {
    font-size: 40px;
    leading: 56px;
    color: #999;
  } */

  /* article > h1 {
    max-width: none;
  } */
  article > p:has(img) {
    max-width: 900px;
  }

  article > * {
    max-width: 600px;
    margin-left: auto;
    margin-right: auto;
  }

  article blockquote {
    padding: 2rem;
    border-radius: 8px;
    margin-top: 3rem;
    margin-bottom: 3rem;
    width: 100%;
    font-size: 1rem;
  }

  article h1 {
    font-size: 56px;
    line-height: 68px;
    margin: 120px 0;
    letter-spacing: -0.016em;
    text-indent: 40px;
  }

  article h2 {
    font-size: 2rem;
    line-height: 2rem;
    margin-top: 4rem;
    margin-bottom: 1.25rem;
  }
  
  article h3 {
    font-size: 1.5rem;
    line-height: 1.5rem;
    margin-top: 2.25rem;
    margin-bottom: 0.75rem;
  }


  article h2:first-child {
    margin-top: 0;
  }

  article p:first-child {
    margin-top: 0;
  }

  article p:last-child {
    margin-bottom: 0;
  }
</style>
