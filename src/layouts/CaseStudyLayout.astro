---
import Logo from '../components/Logo.astro';
const {frontmatter} = Astro.props;
---
<div class="relative flex flex-col max-w-6xl mx-auto">
  <!-- <a href="/" class="flex items-center justify-center h-14 w-14 -mt-[56px] bg-neutral-800 hover:bg-[#2f2f2f]  duration-150 rounded-full sticky top-4 left-4 z-10" >
    <Logo classes="h-10 w-10 shrink-0" />
  </a> -->
  {frontmatter.image ? (
    <img 
      src={frontmatter.image} 
      alt={`${frontmatter.title} mockups`}
      class="max-h-[256px] md:max-h-[448px] h-full w-full object-cover"
    />
  ) : (
    <div class="flex h-64 md:h-[448px] pb-0 m-6 md:m-10 mb-0 md:mb-0">
      <div class="w-full bg-[#918C88] h-full"></div>
    </div>
  )}

  <section class="mx-6 md:mx-9">
    <div class="max-w-6xl mx-auto relative flex flex-col gap-y-6 md:gap-y-10 mt-6 md:mt-10 pb-6 md:pb-10 border-b-[0.5px] border-black -mb-[0.5px]">
      <div class="flex flex-col md:flex-row gap-y-2 gap-x-12 justify-between">
        <h1 class=" text-4xl md:text-5xl leading-7 md:leading-[44px]">
          {frontmatter.title}
        </h1>
        {frontmatter.link && (
          <a href={frontmatter.link} target="_blank" class="group flex items-end gap-x-1">
            <span class="group-hover:underline">Check it out</span>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4 group-hover:translate-x-px -translate-y-px group-hover:-translate-y-0.5  ease-out duration-100">
              <path fill-rule="evenodd" d="M5.22 14.78a.75.75 0 001.06 0l7.22-7.22v5.69a.75.75 0 001.5 0v-7.5a.75.75 0 00-.75-.75h-7.5a.75.75 0 000 1.5h5.69l-7.22 7.22a.75.75 0 000 1.06z" clip-rule="evenodd" />
            </svg>
          </a>
        )}
      </div>
      <!-- <span class="absolute top-0 right-0 text-[10px] uppercase tracking-wide font-sans leading-3">
        {frontmatter.type}
      </span> -->
      <span class="absolute top-0 right-0 text-[10px] uppercase tracking-wide font-sans leading-3">
        {frontmatter.type}
      </span>
      <div class="flex flex-col-reverse md:flex-row w-full gap-6 md:gap-9">
        <div class="flex-1">
          <div class="md:w-fit">
            <table class="" cellspacing="0" cellpadding="0">
              {frontmatter.company && (
                <tr>
                  <td>Company</td>
                  <td class="">{frontmatter.company}</td>
                </tr>
              )}
              <tr>
                <td>Role</td>
                <td>
                  {frontmatter.roles.join(", ")}
                </td>
              </tr>
              <tr>
                <td>Tools</td>
                <td>{frontmatter.tools.join(", ")}</td>
              </tr>
              {frontmatter.collaborators && (
                <tr>
                  <td><p>Collaborators</p></td>
                  <td class="flex flex-col gap-y-2 525:gap-0 ">
                    {frontmatter.collaborators.map((collaborator: { name: string, link: string }) => (
                      <div class="flex flex-wrap gap-x-[5px]">
                        <a href={collaborator.link} target="_blank" class="whitespace-nowrap underline-none hover:underline focus:underline">
                          {collaborator.name}
                        </a>  
                        <span class="525:whitespace-nowrap">({collaborator.role})</span>
                      </div>  
                    ))}
                  </td>
                </tr>
              )}
            </table>
          </div>
        </div>
        <div class="flex-1">
          <p class="max-w-sm">{frontmatter.tldr}</p>
        </div>
      </div>
    </div>
  </section>
  <div class="mx-6 md:mx-9 mt-20">
    <article id="content" class="normal-case	text-lg mx-auto w-full">
      <slot />
    </article>
  </div>
</div>

<style is:inline>
  tr > td:last-child {
    width: 100%;
  }

  article#content img {
    margin-top: 3rem;
    margin-bottom: 3rem;
  }

  article#content blockquote {
    padding: 2rem;
    border-radius: 8px;
    margin-top: 3rem;
    margin-bottom: 3rem;
    width: 100%;
    font-size: 1rem;
  }

  article#content h1 {
    font-size: 40px;
    line-height: 44px;
    text-indent: 40px;
    margin-bottom: 32px;
  }
  article#content h2 {
    font-size: 2rem;
    line-height: 2rem;
    margin-top: 4rem;
    margin-bottom: 1.25rem;
  }
  
  article#content h3 {
    font-size: 1.5rem;
    line-height: 1.5rem;
    margin-top: 2.25rem;
    margin-bottom: 0.75rem;
    letter-spacing: -0.15px;
  }


  article#content h2:first-child {
    margin-top: 0;
  }
  
  article#content p {
    max-width: 65ch;
  }

  article#content p:first-child {
    margin-top: 0;
  }

  article#content p:last-child {
    margin-bottom: 0;
  }
</style>
